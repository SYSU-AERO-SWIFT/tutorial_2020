# 门电路项目
**作者**:陈睿   
**修订**:陈睿   
**日期**:2020-11-15   
**版本**:v1.0.5   
**摘要**:这是门电路项目的介绍，包含项目所包含的文件、关键算法思路、可实现的功能、运行方法以及BFS算法过程的简要概括     
## 项目的文件
`bin`：存放可运行文件   
`build`：存放.o文件   
`include`：存放头文件   
`src`：存放源文件   
`TEST_FILES`：存放用于测试的文件,该文件可以连成一个4位全加器   
`Makefile`   
`README.md`   

## 关键算法思路
**1.门的创建**：   
自定义一个gate类，其中主要有5个函数（对应于and、or、not、xor和一个自定义的输入端口），当门被创建时会设置它的编号以及它的类型，根据门的类型不同，会调用不同的函数进行逻辑运算   
**2.输入端口**：   
输入端口只有一个输入和一个输出，你输入一个值，该端口的返回值也会是这个值，可以理解为导线，是一幅电路与用户的接口   
**3.父母电路**：    
三个相连的门电路中，提供输出端口的两个电路被称为父母电路，另一个称为子电路   
**4.门的连接**：   
连接任意三个门电路时，子门电路会记下两个父母门电路的编号，以此表示连接   
**5.门的输出运算**：   
核心思路类似于函数的递归调用，在子门电路中通过父母门电路的编号调用其父母门电路的运算函数，其父母门电路又调用它们的父母门电路的运算函数...以此类推，直到一个设置了输入值的门电路则结束   

## 可实现的功能
`create`：创建门电路   
`connect`：连接门电路   
`list`：列出已有的门电路   
`setInput`：设置输入值   
`exec`：运行连接好的电路   
`print`：打印门电路的运算结果   
`exit`：退出程序   
`on/off`：是否开启清屏（输入on或者off）   
## 运行方法-项目文件夹下打开终端
编译：
>$make    
>g++ -c src/main.cpp -I include -o build/main.o    
>g++ -c src/gate.cpp -I include -o build/gate.o    
>g++ -c src/func.cpp -I include -o build/func.o   
>g++ build/main.o build/func.o build/gate.o -o bin/gate.out    

运行：   
>$ ./bin/gate.out   

运行测试文件--四位全加器：   
>$ ./bin/gate.out < TEST_FILES/test1.txt    

注：测试文件中是两个二进制数1111和1111的相加，如果要修改，可以根据文件TEST_FILES目录下的test1.png进行修改   

## BFS算法
### 介绍
BFS（breadth first search），即宽度优先搜索，这是一种盲目搜寻法，它展开所有的节点以便能寻找到结果。在一幅图中，它首先找到根节点，然后再寻找所有和根节点相连的子1节点，然后再寻找所有子1节点相连的子2节点，然后再寻找所有和子2节点相连的子3节点………遍历完一整副图后即结束。   
### C++中用法
与queue配合使用，先将根节点压入队列中(一般位于队列头部)，然后取该队列的第一个元素，找到所有与它相关的且未入队的节点，依次压入队列的末尾，全部入队后，弹出队列的第一个元素，下一次循环时再取队列的第一个元素并寻找相关节点、入队、弹出第一个元素…以此反复，直到队列的最后一个元素被弹出，则搜索结束。   
### 找环
若任意时候取队列的第一个元素搜索与它相关的节点时，发现有节点已经入队，则表明图中有环。   

